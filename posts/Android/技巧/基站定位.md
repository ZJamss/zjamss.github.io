### 申明权限

```xml
    <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
```

### 获取基站信息

```java
 public List<LocationData> getCellInfo() {
        TelephonyManager mTelNet = (TelephonyManager) getSystemService(Context.TELEPHONY_SERVICE);
        List<LocationData> list = new ArrayList<>();
        if (checkSelfPermission(Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED && checkSelfPermission(Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {
            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, 1);
            return null;
        }
        // 获取邻区基站信息

        List<CellInfo> cells = mTelNet.getAllCellInfo();
        for (CellInfo cellInfo : cells) {
            if (cellInfo instanceof CellInfoGsm) {
                CellInfoGsm cellInfoGsm = (CellInfoGsm) cellInfo;
                CellIdentityGsm cellIdentityGsm = cellInfoGsm.getCellIdentity();
                int cid = cellIdentityGsm.getCid();
                int mcc = cellIdentityGsm.getMcc();
                int mnc = cellIdentityGsm.getMnc();
                int lac = cellIdentityGsm.getLac();
                int rssi = cellInfoGsm.getCellSignalStrength().getDbm();
                list.add(new LocationData(mcc, mnc, lac, cid, rssi));

            } else if (cellInfo instanceof CellInfoLte) {
                CellInfoLte cellInfoLte = (CellInfoLte) cellInfo;
                CellIdentityLte cellIdentityLte = cellInfoLte.getCellIdentity();
                int cid = cellIdentityLte.getCi();
                int mcc = cellIdentityLte.getMcc();
                int mnc = cellIdentityLte.getMnc();
                int rssi = cellInfoLte.getCellSignalStrength().getDbm();
                int lac = cellIdentityLte.getTac();
                list.add(new LocationData(mcc, mnc, lac, cid, rssi));
            } else if (cellInfo instanceof CellInfoWcdma) {
                CellInfoWcdma cellInfoWcdma = (CellInfoWcdma) cellInfo;
                CellIdentityWcdma cellIdentityWcdma = cellInfoWcdma.getCellIdentity();
                int cid = cellIdentityWcdma.getCid();
                int mcc = cellIdentityWcdma.getMcc();
                int mnc = cellIdentityWcdma.getMnc();
                int lac = cellIdentityWcdma.getLac();
                int rssi = cellInfoWcdma.getCellSignalStrength().getDbm();
                list.add(new LocationData(mcc, mnc, lac, cid, rssi));
            }
        }

        return list.stream().
                sorted((locationData, t1) -> locationData.getMCC() > t1.getMCC() ? 1 : 0).collect(Collectors.toList());
    }
```

* `mcc` 移动国家代码
* `mnc` 移动网络号码
* `lac` 位置区域码
* `cid`基站编号
* `rssi`信号强度
